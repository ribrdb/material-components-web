{
"version":3,
"file":".closure-tmp/mdc-animation_test.js",
"lineCount":21,
"mappings":"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",
"sources":[".closure-tmp/packages/mdc-animation/index.js",".closure-tmp/test/unit/mdc-animation/mdc-animation.test.js"],
"sourcesContent":["goog.module('mdc.animation');\ngoog.module.declareLegacyNamespace();\n/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   noPrefix: string,\n *   webkitPrefix: string,\n *   styleProperty: string\n * }}\n */\nlet VendorPropertyMapType;\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nconst eventTypeMap = {\n  'animationstart': {\n    noPrefix: 'animationstart',\n    webkitPrefix: 'webkitAnimationStart',\n    styleProperty: 'animation',\n  },\n  'animationend': {\n    noPrefix: 'animationend',\n    webkitPrefix: 'webkitAnimationEnd',\n    styleProperty: 'animation',\n  },\n  'animationiteration': {\n    noPrefix: 'animationiteration',\n    webkitPrefix: 'webkitAnimationIteration',\n    styleProperty: 'animation',\n  },\n  'transitionend': {\n    noPrefix: 'transitionend',\n    webkitPrefix: 'webkitTransitionEnd',\n    styleProperty: 'transition',\n  },\n};\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nconst cssPropertyMap = {\n  'animation': {\n    noPrefix: 'animation',\n    webkitPrefix: '-webkit-animation',\n  },\n  'transform': {\n    noPrefix: 'transform',\n    webkitPrefix: '-webkit-transform',\n  },\n  'transition': {\n    noPrefix: 'transition',\n    webkitPrefix: '-webkit-transition',\n  },\n};\n\n/**\n * @param {!Object} windowObj\n * @return {boolean}\n */\nfunction hasProperShape(windowObj) {\n  return (windowObj['document'] !== undefined && typeof windowObj['document']['createElement'] === 'function');\n}\n\n/**\n * @param {string} eventType\n * @return {boolean}\n */\nfunction eventFoundInMaps(eventType) {\n  return (eventType in eventTypeMap || eventType in cssPropertyMap);\n}\n\n/**\n * @param {string} eventType\n * @param {!Object<string, !VendorPropertyMapType>} map\n * @param {!Element} el\n * @return {string}\n */\nfunction getJavaScriptEventName(eventType, map, el) {\n  return map[eventType].styleProperty in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n}\n\n/**\n * Helper function to determine browser prefix for CSS3 animation events\n * and property names.\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getAnimationName(windowObj, eventType) {\n  if (!hasProperShape(windowObj) || !eventFoundInMaps(eventType)) {\n    return eventType;\n  }\n\n  const map = /** @type {!Object<string, !VendorPropertyMapType>} */ (\n    eventType in eventTypeMap ? eventTypeMap : cssPropertyMap\n  );\n  const el = windowObj['document']['createElement']('div');\n  let eventName = '';\n\n  if (map === eventTypeMap) {\n    eventName = getJavaScriptEventName(eventType, map, el);\n  } else {\n    eventName = map[eventType].noPrefix in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n  }\n\n  return eventName;\n}\n\n// Public functions to access getAnimationName() for JavaScript events or CSS\n// property names.\n\nconst transformStyleProperties = ['transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'MSTransform'];\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectEventName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectPropertyName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\nexports = {\n  transformStyleProperties,\n  getCorrectEventName,\n  getCorrectPropertyName,\n};","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst {\n  assert,\n} = chai;\n\nimport {getCorrectEventName} from 'goog:mdc.animation';\nimport {getCorrectPropertyName} from 'goog:mdc.animation';\n\n// Has no properties without a prefix\nconst legacyWindowObj = td.object({\n  document: {},\n});\nlegacyWindowObj.document.createElement = () => ({\n  style: {\n    'webkitTransform': 'nah',\n  },\n});\n\nsuite('MDCAnimation');\n\ntest('#getCorrectEventName does not prefix events when not necessary', () => {\n  const windowObj = td.object({\n    document: {},\n  });\n  windowObj.document.createElement = () => ({\n    style: {\n      animation: 'none',\n    },\n  });\n\n  assert.equal(\n    getCorrectEventName(windowObj, 'animationstart'),\n    'animationstart',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName does not prefix events when not necessary', () => {\n  const windowObj = td.object({\n    document: {},\n  });\n  windowObj.document.createElement = () => ({\n    style: {\n      animation: 'none',\n    },\n  });\n\n  assert.equal(\n    getCorrectPropertyName(windowObj, 'animation'),\n    'animation',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectEventName does not prefix events if window does not contain a DOM node', () => {\n  const windowObj = td.object({});\n\n  assert.equal(\n    getCorrectEventName(windowObj, 'animationstart'),\n    'animationstart',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName does not prefix events if window does not contain a DOM node', () => {\n  const windowObj = td.object({});\n\n  assert.equal(\n    getCorrectPropertyName(windowObj, 'transition'),\n    'transition',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName prefixes css properties when required', () => {\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'animation'),\n    '-webkit-animation',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'transform'),\n    '-webkit-transform',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'transition'),\n    '-webkit-transition',\n    'added prefix'\n  );\n});\n\ntest('#getCorrectEventName prefixes javascript events when required', () => {\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationstart'),\n    'webkitAnimationStart',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationend'),\n    'webkitAnimationEnd',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationiteration'),\n    'webkitAnimationIteration',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'transitionend'),\n    'webkitTransitionEnd',\n    'added prefix'\n  );\n});"],
"names":["eventTypeMap","noPrefix","webkitPrefix","styleProperty","cssPropertyMap","getAnimationName","windowObj","eventType","undefined","map","el","eventName","style","chai","legacyWindowObj","td","object","document","createElement","legacyWindowObj.document.createElement","suite","test","windowObj.document.createElement","animation","assert","equal"]
}
