{
"version":3,
"file":".closure-tmp/mdc-animation_test.js",
"lineCount":30,
"mappings":"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",
"sources":[".closure-tmp/packages/mdc-animation/index.js",".closure-tmp/test/unit/mdc-animation/mdc-animation.test.js"],
"sourcesContent":["goog.module('mdc.animation');\ngoog.module.declareLegacyNamespace();\n/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   noPrefix: string,\n *   webkitPrefix: string,\n *   styleProperty: string\n * }}\n */\nlet VendorPropertyMapType;\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nconst eventTypeMap = {\n  'animationstart': {\n    noPrefix: 'animationstart',\n    webkitPrefix: 'webkitAnimationStart',\n    styleProperty: 'animation',\n  },\n  'animationend': {\n    noPrefix: 'animationend',\n    webkitPrefix: 'webkitAnimationEnd',\n    styleProperty: 'animation',\n  },\n  'animationiteration': {\n    noPrefix: 'animationiteration',\n    webkitPrefix: 'webkitAnimationIteration',\n    styleProperty: 'animation',\n  },\n  'transitionend': {\n    noPrefix: 'transitionend',\n    webkitPrefix: 'webkitTransitionEnd',\n    styleProperty: 'transition',\n  },\n};\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nconst cssPropertyMap = {\n  'animation': {\n    noPrefix: 'animation',\n    webkitPrefix: '-webkit-animation',\n  },\n  'transform': {\n    noPrefix: 'transform',\n    webkitPrefix: '-webkit-transform',\n  },\n  'transition': {\n    noPrefix: 'transition',\n    webkitPrefix: '-webkit-transition',\n  },\n};\n\n/**\n * @param {!Object} windowObj\n * @return {boolean}\n */\nfunction hasProperShape(windowObj) {\n  return (windowObj['document'] !== undefined && typeof windowObj['document']['createElement'] === 'function');\n}\n\n/**\n * @param {string} eventType\n * @return {boolean}\n */\nfunction eventFoundInMaps(eventType) {\n  return (eventType in eventTypeMap || eventType in cssPropertyMap);\n}\n\n/**\n * @param {string} eventType\n * @param {!Object<string, !VendorPropertyMapType>} map\n * @param {!Element} el\n * @return {string}\n */\nfunction getJavaScriptEventName(eventType, map, el) {\n  return map[eventType].styleProperty in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n}\n\n/**\n * Helper function to determine browser prefix for CSS3 animation events\n * and property names.\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getAnimationName(windowObj, eventType) {\n  if (!hasProperShape(windowObj) || !eventFoundInMaps(eventType)) {\n    return eventType;\n  }\n\n  const map = /** @type {!Object<string, !VendorPropertyMapType>} */ (\n    eventType in eventTypeMap ? eventTypeMap : cssPropertyMap\n  );\n  const el = windowObj['document']['createElement']('div');\n  let eventName = '';\n\n  if (map === eventTypeMap) {\n    eventName = getJavaScriptEventName(eventType, map, el);\n  } else {\n    eventName = map[eventType].noPrefix in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n  }\n\n  return eventName;\n}\n\n// Public functions to access getAnimationName() for JavaScript events or CSS\n// property names.\n\nconst transformStyleProperties = ['transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'MSTransform'];\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectEventName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectPropertyName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\nexports = {\n  transformStyleProperties,\n  getCorrectEventName,\n  getCorrectPropertyName,\n};","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst {\n  assert,\n} = chai;\n\nimport {getCorrectEventName} from 'goog:mdc.animation';\nimport {getCorrectPropertyName} from 'goog:mdc.animation';\n\n// Has no properties without a prefix\nconst legacyWindowObj = td.object({\n  'document': {},\n});\nlegacyWindowObj['document']['createElement'] = () => ({\n  style: {\n    'webkitTransform': 'nah',\n  },\n});\n\nsuite('MDCAnimation');\n\ntest('#getCorrectEventName does not prefix events when not necessary', () => {\n  const windowObj = td.object({\n    document: {},\n  });\n  windowObj.document.createElement = () => ({\n    'style': {\n      'animation': 'none',\n    },\n  });\n\n  assert.equal(\n    getCorrectEventName(windowObj, 'animationstart'),\n    'animationstart',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName does not prefix events when not necessary', () => {\n  const windowObj = td.object({\n    'document': {},\n  });\n  windowObj['document']['createElement'] = () => ({\n    'style': {\n      'animation': 'none',\n    },\n  });\n\n  assert.equal(\n    getCorrectPropertyName(windowObj, 'animation'),\n    'animation',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectEventName does not prefix events if window does not contain a DOM node', () => {\n  const windowObj = td.object({});\n\n  assert.equal(\n    getCorrectEventName(windowObj, 'animationstart'),\n    'animationstart',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName does not prefix events if window does not contain a DOM node', () => {\n  const windowObj = td.object({});\n\n  assert.equal(\n    getCorrectPropertyName(windowObj, 'transition'),\n    'transition',\n    'no prefix'\n  );\n});\n\ntest('#getCorrectPropertyName prefixes css properties when required', () => {\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'animation'),\n    '-webkit-animation',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'transform'),\n    '-webkit-transform',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectPropertyName(legacyWindowObj, 'transition'),\n    '-webkit-transition',\n    'added prefix'\n  );\n});\n\ntest('#getCorrectEventName prefixes javascript events when required', () => {\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationstart'),\n    'webkitAnimationStart',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationend'),\n    'webkitAnimationEnd',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'animationiteration'),\n    'webkitAnimationIteration',\n    'added prefix'\n  );\n\n  assert.equal(\n    getCorrectEventName(legacyWindowObj, 'transitionend'),\n    'webkitTransitionEnd',\n    'added prefix'\n  );\n});"],
"names":["eventTypeMap","noPrefix","webkitPrefix","styleProperty","cssPropertyMap","getAnimationName","windowObj","eventType","undefined","map","el","eventName","style","chai","legacyWindowObj","td","object","suite","test","document","createElement","windowObj.document.createElement","assert","equal"]
}
