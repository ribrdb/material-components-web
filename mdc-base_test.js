(function(){/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
'use strict';var e="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,f="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},g;if("function"==typeof Object.setPrototypeOf)g=Object.setPrototypeOf;else{var h;a:{var l={u:!0},m={};try{m.__proto__=l;h=m.u;break a}catch(a){}h=!1}g=h?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var n=g;
function p(a,b){a.prototype=f(b.prototype);a.prototype.constructor=a;if(n)n(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.C=b.prototype}var q="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function r(){r=function(){};e.Symbol||(e.Symbol=t)}
var t=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function u(){r();var a=e.Symbol.iterator;a||(a=e.Symbol.iterator=e.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&q(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return v(this)}});u=function(){}}function v(a){var b=0;return w(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function w(a){u();a={next:a};a[e.Symbol.iterator]=function(){return this};return a}
function x(a){u();var b=a[Symbol.iterator];return b?b.call(a):v(a)}function y(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function z(a){this.a=a=void 0===a?{}:a}z.prototype.b=function(){};z.prototype.g=function(){};e.Object.defineProperties(z,{a:{configurable:!0,enumerable:!0,get:function(){return{}}},h:{configurable:!0,enumerable:!0,get:function(){return{}}},f:{configurable:!0,enumerable:!0,get:function(){return{}}},c:{configurable:!0,enumerable:!0,get:function(){return{}}}});function A(a,b,c){for(var d=[],k=2;k<arguments.length;++k)d[k-2]=arguments[k];this.a=a;this.l.apply(this,[].concat(d instanceof Array?d:y(x(d))));this.h=void 0===b?this.j():b;this.f()}A.prototype.l=function(){};A.prototype.j=function(){throw Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");};A.prototype.f=function(){};A.prototype.g=function(){};
function B(a,b){var c=void 0===c?!1:c;if("function"===typeof CustomEvent)var d=new CustomEvent("customeventtype",{detail:b,bubbles:c});else d=document.createEvent("CustomEvent"),d.initCustomEvent("customeventtype",c,!1,b);a.a.dispatchEvent(d)};var C=chai.assert;function D(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];A.apply(this,[].concat(b instanceof Array?b:y(x(b))));this.s=this.o=this.m=void 0}p(D,A);D.prototype.j=function(){var a=td.object({w:!0,b:function(){}});a.B=this.a;return a};D.prototype.l=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.m=b;this.o=!this.h};D.prototype.f=function(){this.s=!0};
e.Object.defineProperties(D.prototype,{A:{configurable:!0,enumerable:!0,get:function(){return this.a}},c:{configurable:!0,enumerable:!0,get:function(){return this.h}}});suite("MDCComponent");test("provides a static attachTo() method that returns a basic instance with the specified root",function(){var a=new A(document.createElement("div"),new z);C.isOk(a instanceof A)});
test('takes a root node constructor param and assigns it to the "root_" property',function(){var a=document.createElement("div"),b=new D(a);C.equal(b.A,a)});test('takes an optional foundation constructor param and assigns it to the "foundation_" property',function(){var a={b:function(){}},b=new D(document.createElement("div"),a);C.equal(b.c,a)});test('assigns the result of "getDefaultFoundation()" to "foundation_" by default',function(){var a=new D(document.createElement("div"));C.isOk(a.c.w)});
test("calls the foundation's init() method within the constructor",function(){var a=document.createElement("div"),b=td.object({b:function(){}});new D(a,b);td.verify(b.b())});test("throws an error if getDefaultFoundation() is not overridden",function(){var a=document.createElement("div");C.throws(function(){return new A(a)})});test("calls initialSyncWithDOM() when initialized",function(){var a=new D(document.createElement("div"));C.isOk(a.s)});function E(a){A.apply(this,arguments)}p(E,A);
test("provides a default initialSyncWithDOM() no-op if none provided by subclass",function(){C.doesNotThrow(A.prototype.f.bind(new E))});test("provides a default destroy() method which calls the foundation's destroy() method",function(){var a=document.createElement("div"),b=td.object({b:function(){},g:function(){}});new D(a,b);td.verify(b.g())});
test("#initialize is called within constructor and passed any additional positional component args",function(){var a=new D(document.createElement("div"),void 0,"foo",42);C.deepEqual(a.m,["foo",42])});test("#initialize is called before getDefaultFoundation()",function(){var a=new D(document.createElement("div"));C.isOk(a.o)});
test("#listen adds an event listener to the root element",function(){var a=document.createElement("div"),b=new D(a),c=td.func("eventHandler");b.a.addEventListener("FakeComponent:customEvent",c);a.dispatchEvent(new Event("FakeComponent:customEvent"));td.verify(c(td.matchers.anything()))});
test("#unlisten removes an event listener from the root element",function(){var a=document.createElement("div"),b=new D(a),c=td.func("eventHandler");a.addEventListener("FakeComponent:customEvent",c);b.a.removeEventListener("FakeComponent:customEvent",c);a.dispatchEvent(new Event("FakeComponent:customEvent"));td.verify(c(td.matchers.anything()),{D:0})});
test("#emit dispatches a custom event with the supplied data",function(){var a=document.createElement("div"),b=new D(a),c=td.func("eventHandler"),d=null;td.when(c(td.matchers.isA(Object))).thenDo(function(a){d=a});var k={v:!0};a.addEventListener("customeventtype",c);B(b,k);C.isOk(null!==d);C.equal(d.type,"customeventtype");C.deepEqual(d.detail,k)});
test("#emit dispatches a custom event with the supplied data where custom events aren't available",function(){var a=document.createElement("div"),b=new D(a),c=td.func("eventHandler"),d=null;td.when(c(td.matchers.isA(Object))).thenDo(function(a){d=a});var k={v:!0};a.addEventListener("customeventtype",c);a=window.CustomEvent;window.CustomEvent=void 0;try{B(b,k)}finally{window.CustomEvent=a}C.isOk(null!==d);C.equal(d.type,"customeventtype");C.deepEqual(d.detail,k)});
test("(regression) ensures that this.root_ is available for use within getDefaultFoundation()",function(){var a=document.createElement("div"),b=new D(a);C.equal(b.c.B,a)});var F=chai.assert;function G(a){z.apply(this,arguments)}p(G,z);e.Object.defineProperties(G.prototype,{i:{configurable:!0,enumerable:!0,get:function(){return this.a}}});suite("MDCFoundation");test("cssClasses getter returns an empty object",function(){F.deepEqual(z.a,{})});test("strings getter returns an empty object",function(){F.deepEqual(z.h,{})});test("numbers getter returns an empty object",function(){F.deepEqual(z.f,{})});
test("defaultAdapter getter returns an empty object",function(){F.deepEqual(z.c,{})});test('takes an adapter object in its constructor, assigns it to "adapter_"',function(){var a={i:!0};F.deepEqual((new G(a)).i,a)});test("assigns adapter to an empty object when none given",function(){F.deepEqual((new G).i,{})});test("provides an init() lifecycle method, which defaults to a no-op",function(){var a=new G;F.doesNotThrow(function(){return a.b()})});
test("provides a destroy() lifecycle method, which defaults to a no-op",function(){var a=new G;F.doesNotThrow(function(){return a.g()})});}).call(this);//# sourceMappingURL=mdc-base_test.js.map

